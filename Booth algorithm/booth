#! /c/iverilog/bin/vvp
:ivl_version "0.9.7 " "(v0_9_7)";
:vpi_time_precision - 12;
:vpi_module "system";
:vpi_module "v2005_math";
:vpi_module "va_math";
S_01122918 .scope module, "booth_tb" "booth_tb" 2 2;
 .timescale -9 -12;
v0112FB48_0 .net "A", 15 0, v0112EA48_0; 1 drivers
v0112F5C8_0 .net "M", 15 0, v0112EB50_0; 1 drivers
v0112F728_0 .var/s "M_in", 15 0;
v0112FA40_0 .net "Q", 15 0, v0112E8E8_0; 1 drivers
v0112F1A8_0 .var/s "Q_in", 15 0;
v0112F7D8_0 .net "addsub", 0 0, v0113B578_0; 1 drivers
v0112F0F8_0 .var "clk", 0 0;
v0112F888_0 .net "clrA", 0 0, v012EB8F8_0; 1 drivers
v0112F518_0 .net "clrQ", 0 0, v012EB068_0; 1 drivers
v0112F258_0 .net "clr_q1", 0 0, v01136898_0; 1 drivers
v0112FA98_0 .net "decr", 0 0, v011368F0_0; 1 drivers
v0112F410_0 .net "done", 0 0, v012EBE80_0; 1 drivers
v0112FBA0_0 .net "eqz", 0 0, L_0112F570; 1 drivers
v0112F468_0 .net "ldA", 0 0, v012EBF30_0; 1 drivers
v0112F2B0_0 .net "ldM", 0 0, v012EBF88_0; 1 drivers
v0112F3B8_0 .net "ldQ", 0 0, v01133A60_0; 1 drivers
v0112F8E0_0 .net "ldcnt", 0 0, v01133AB8_0; 1 drivers
v0112F938_0 .net "q_minus1", 0 0, v0112F6D0_0; 1 drivers
v0112F200_0 .net "shift", 0 0, v0112E940_0; 1 drivers
v0112F360_0 .var "start", 0 0;
L_01130070 .part v0112E8E8_0, 0, 1;
S_01123550 .scope task, "run_test" "run_test" 2 36, 2 36, S_01122918;
 .timescale -9 -12;
v0112F830_0 .var/i "id", 31 0;
v0112F150_0 .var/s "m", 15 0;
v0112F4C0_0 .var/s "q", 15 0;
v0112F780_0 .var/i "timeout", 31 0;
TD_booth_tb.run_test ;
    %load/v 8, v0112F150_0, 16;
    %set/v v0112F728_0, 8, 16;
    %load/v 8, v0112F4C0_0, 16;
    %set/v v0112F1A8_0, 8, 16;
    %set/v v0112F360_0, 1, 1;
    %wait E_012EA778;
    %set/v v0112F360_0, 0, 1;
    %set/v v0112F780_0, 0, 32;
T_0.0 ;
    %load/v 8, v0112F410_0, 1;
    %inv 8, 1;
    %load/v 9, v0112F780_0, 32;
   %cmpi/s 9, 1000, 32;
    %mov 9, 5, 1;
    %and 8, 9, 1;
    %jmp/0xz T_0.1, 8;
    %wait E_012EA778;
    %load/v 8, v0112F780_0, 32;
    %mov 40, 39, 1;
    %addi 8, 1, 33;
    %set/v v0112F780_0, 8, 32;
    %jmp T_0.0;
T_0.1 ;
    %movi 8, 1000, 32;
    %load/v 40, v0112F780_0, 32;
    %cmp/s 8, 40, 32;
    %or 5, 4, 1;
    %jmp/0xz  T_0.2, 5;
    %vpi_call 2 49 "$display", "TEST %0d TIMEOUT M=%0d Q=%0d", v0112F830_0, v0112F150_0, v0112F4C0_0;
    %jmp T_0.3;
T_0.2 ;
    %wait E_012EA778;
    %load/v 8, v0112FA40_0, 16;
    %load/v 24, v0112FB48_0, 16;
    %load/v 40, v0112FA40_0, 16;
    %load/v 56, v0112FB48_0, 16;
    %vpi_call 2 52 "$display", "TEST %0d M=%0d Q=%0d PRODUCT(dec)=%0d PRODUCT(hex)=%h", v0112F830_0, v0112F150_0, v0112F4C0_0, T<8,32,s>, T<40,32,u>;
T_0.3 ;
    %end;
S_01123198 .scope module, "DP" "booth_datapath" 2 14, 3 1, S_01122918;
 .timescale 0 0;
v0112EA48_0 .var "A", 15 0;
v0112EB50_0 .var "M", 15 0;
v0112E9F0_0 .net "M_in", 15 0, v0112F728_0; 1 drivers
v0112E8E8_0 .var "Q", 15 0;
v0112ED60_0 .net "Q_in", 15 0, v0112F1A8_0; 1 drivers
v0112E998_0 .net *"_s0", 4 0, C4<00000>; 1 drivers
v0112EAF8_0 .net *"_s4", 15 0, L_0112F620; 1 drivers
v0112EC58_0 .net *"_s6", 15 0, L_0112FEB8; 1 drivers
v0112EBA8_0 .alias "addsub", 0 0, v0112F7D8_0;
v0112EAA0_0 .net "alu_out", 15 0, L_0112FC50; 1 drivers
v0112EC00_0 .var "big_old", 32 0;
v0112EF70_0 .net "clk", 0 0, v0112F0F8_0; 1 drivers
v0112ECB0_0 .alias "clrA", 0 0, v0112F888_0;
v0112EEC0_0 .alias "clrQ", 0 0, v0112F518_0;
v0112EE10_0 .alias "clr_q1", 0 0, v0112F258_0;
v0112EF18_0 .var "count", 4 0;
v0112ED08_0 .alias "decr", 0 0, v0112FA98_0;
v0112F020_0 .alias "eqz", 0 0, v0112FBA0_0;
v0112FAF0_0 .alias "ldA", 0 0, v0112F468_0;
v0112F990_0 .alias "ldM", 0 0, v0112F2B0_0;
v0112F9E8_0 .alias "ldQ", 0 0, v0112F3B8_0;
v0112F678_0 .alias "ldcnt", 0 0, v0112F8E0_0;
v0112F6D0_0 .var "q_minus1", 0 0;
v0112F308_0 .alias "shift", 0 0, v0112F200_0;
E_012EA5F8 .event edge, v0112EA48_0, v0112E8E8_0, v0112EFC8_0;
L_0112F570 .cmp/eq 5, v0112EF18_0, C4<00000>;
L_0112F620 .arith/sum 16, v0112EA48_0, v0112EB50_0;
L_0112FEB8 .arith/sub 16, v0112EA48_0, v0112EB50_0;
L_0112FC50 .functor MUXZ 16, L_0112FEB8, L_0112F620, v0113B578_0, C4<>;
S_011219B0 .scope module, "CU" "booth_controller" 2 19, 4 1, S_01122918;
 .timescale 0 0;
P_01136804 .param/l "ADD" 4 20, C4<011>;
P_01136818 .param/l "CHECK" 4 20, C4<010>;
P_0113682C .param/l "DONE" 4 20, C4<110>;
P_01136840 .param/l "IDLE" 4 20, C4<000>;
P_01136854 .param/l "LOAD" 4 20, C4<001>;
P_01136868 .param/l "SHIFT" 4 20, C4<101>;
P_0113687C .param/l "SUB" 4 20, C4<100>;
v0113B578_0 .var "addsub", 0 0;
v012EA000_0 .alias "clk", 0 0, v0112EF70_0;
v012EB8F8_0 .var "clrA", 0 0;
v012EB068_0 .var "clrQ", 0 0;
v01136898_0 .var "clr_q1", 0 0;
v011368F0_0 .var "decr", 0 0;
v012EBE80_0 .var "done", 0 0;
v012EBED8_0 .alias "eqz", 0 0, v0112FBA0_0;
v012EBF30_0 .var "ldA", 0 0;
v012EBF88_0 .var "ldM", 0 0;
v01133A60_0 .var "ldQ", 0 0;
v01133AB8_0 .var "ldcnt", 0 0;
v01133B10_0 .net "q0", 0 0, L_01130070; 1 drivers
v0112EFC8_0 .alias "qm1", 0 0, v0112F938_0;
v0112E940_0 .var "shift", 0 0;
v0112EE68_0 .net "start", 0 0, v0112F360_0; 1 drivers
v0112EDB8_0 .var "state", 2 0;
E_012EA758 .event edge, v0112EDB8_0;
E_012EA778 .event posedge, v012EA000_0;
    .scope S_01123198;
T_1 ;
    %wait E_012EA5F8;
    %load/v 8, v0112F6D0_0, 1;
    %load/v 9, v0112E8E8_0, 16;
    %load/v 25, v0112EA48_0, 16;
    %set/v v0112EC00_0, 8, 33;
    %jmp T_1;
    .thread T_1, $push;
    .scope S_01123198;
T_2 ;
    %wait E_012EA778;
    %load/v 8, v0112F678_0, 1;
    %jmp/0xz  T_2.0, 8;
    %movi 8, 16, 5;
    %ix/load 0, 5, 0;
    %assign/v0 v0112EF18_0, 0, 8;
    %jmp T_2.1;
T_2.0 ;
    %load/v 8, v0112ED08_0, 1;
    %jmp/0xz  T_2.2, 8;
    %load/v 8, v0112EF18_0, 5;
    %mov 13, 0, 27;
    %subi 8, 1, 32;
    %ix/load 0, 5, 0;
    %assign/v0 v0112EF18_0, 0, 8;
T_2.2 ;
T_2.1 ;
    %load/v 8, v0112F990_0, 1;
    %jmp/0xz  T_2.4, 8;
    %load/v 8, v0112E9F0_0, 16;
    %ix/load 0, 16, 0;
    %assign/v0 v0112EB50_0, 0, 8;
T_2.4 ;
    %load/v 8, v0112EEC0_0, 1;
    %jmp/0xz  T_2.6, 8;
    %ix/load 0, 16, 0;
    %assign/v0 v0112E8E8_0, 0, 0;
    %jmp T_2.7;
T_2.6 ;
    %load/v 8, v0112F9E8_0, 1;
    %jmp/0xz  T_2.8, 8;
    %load/v 8, v0112ED60_0, 16;
    %ix/load 0, 16, 0;
    %assign/v0 v0112E8E8_0, 0, 8;
T_2.8 ;
T_2.7 ;
    %load/v 8, v0112ECB0_0, 1;
    %jmp/0xz  T_2.10, 8;
    %ix/load 0, 16, 0;
    %assign/v0 v0112EA48_0, 0, 0;
    %jmp T_2.11;
T_2.10 ;
    %load/v 8, v0112FAF0_0, 1;
    %jmp/0xz  T_2.12, 8;
    %load/v 8, v0112EAA0_0, 16;
    %ix/load 0, 16, 0;
    %assign/v0 v0112EA48_0, 0, 8;
T_2.12 ;
T_2.11 ;
    %load/v 8, v0112EE10_0, 1;
    %jmp/0xz  T_2.14, 8;
    %ix/load 0, 1, 0;
    %assign/v0 v0112F6D0_0, 0, 0;
T_2.14 ;
    %load/v 8, v0112F308_0, 1;
    %jmp/0xz  T_2.16, 8;
    %ix/load 1, 1, 0;
    %mov 4, 0, 1;
    %jmp/1 T_2.18, 4;
    %load/x1p 41, v0112EC00_0, 32;
    %jmp T_2.19;
T_2.18 ;
    %mov 41, 2, 32;
T_2.19 ;
    %mov 8, 41, 32; Move signal select into place
    %ix/load 1, 15, 0;
    %mov 4, 0, 1;
    %jmp/1 T_2.20, 4;
    %load/x1p 41, v0112EA48_0, 1;
    %jmp T_2.21;
T_2.20 ;
    %mov 41, 2, 1;
T_2.21 ;
    %mov 40, 41, 1; Move signal select into place
    %ix/load 0, 1, 0;
    %assign/v0 v0112F6D0_0, 0, 8;
    %ix/load 0, 16, 0;
    %assign/v0 v0112E8E8_0, 0, 9;
    %ix/load 0, 16, 0;
    %assign/v0 v0112EA48_0, 0, 25;
T_2.16 ;
    %jmp T_2;
    .thread T_2;
    .scope S_011219B0;
T_3 ;
    %wait E_012EA778;
    %load/v 8, v0112EDB8_0, 3;
    %cmpi/u 8, 0, 3;
    %jmp/1 T_3.0, 6;
    %cmpi/u 8, 1, 3;
    %jmp/1 T_3.1, 6;
    %cmpi/u 8, 2, 3;
    %jmp/1 T_3.2, 6;
    %cmpi/u 8, 3, 3;
    %jmp/1 T_3.3, 6;
    %cmpi/u 8, 4, 3;
    %jmp/1 T_3.4, 6;
    %cmpi/u 8, 5, 3;
    %jmp/1 T_3.5, 6;
    %cmpi/u 8, 6, 3;
    %jmp/1 T_3.6, 6;
    %ix/load 0, 3, 0;
    %assign/v0 v0112EDB8_0, 0, 0;
    %jmp T_3.8;
T_3.0 ;
    %load/v 8, v0112EE68_0, 1;
    %jmp/0xz  T_3.9, 8;
    %movi 8, 1, 3;
    %ix/load 0, 3, 0;
    %assign/v0 v0112EDB8_0, 0, 8;
T_3.9 ;
    %jmp T_3.8;
T_3.1 ;
    %movi 8, 2, 3;
    %ix/load 0, 3, 0;
    %assign/v0 v0112EDB8_0, 0, 8;
    %jmp T_3.8;
T_3.2 ;
    %load/v 8, v012EBED8_0, 1;
    %jmp/0xz  T_3.11, 8;
    %movi 8, 6, 3;
    %ix/load 0, 3, 0;
    %assign/v0 v0112EDB8_0, 0, 8;
    %jmp T_3.12;
T_3.11 ;
    %load/v 8, v0112EFC8_0, 1;
    %load/v 9, v01133B10_0, 1;
    %cmpi/u 8, 1, 2;
    %jmp/0xz  T_3.13, 4;
    %movi 8, 3, 3;
    %ix/load 0, 3, 0;
    %assign/v0 v0112EDB8_0, 0, 8;
    %jmp T_3.14;
T_3.13 ;
    %load/v 8, v0112EFC8_0, 1;
    %load/v 9, v01133B10_0, 1;
    %cmpi/u 8, 2, 2;
    %jmp/0xz  T_3.15, 4;
    %movi 8, 4, 3;
    %ix/load 0, 3, 0;
    %assign/v0 v0112EDB8_0, 0, 8;
    %jmp T_3.16;
T_3.15 ;
    %movi 8, 5, 3;
    %ix/load 0, 3, 0;
    %assign/v0 v0112EDB8_0, 0, 8;
T_3.16 ;
T_3.14 ;
T_3.12 ;
    %jmp T_3.8;
T_3.3 ;
    %movi 8, 5, 3;
    %ix/load 0, 3, 0;
    %assign/v0 v0112EDB8_0, 0, 8;
    %jmp T_3.8;
T_3.4 ;
    %movi 8, 5, 3;
    %ix/load 0, 3, 0;
    %assign/v0 v0112EDB8_0, 0, 8;
    %jmp T_3.8;
T_3.5 ;
    %movi 8, 2, 3;
    %ix/load 0, 3, 0;
    %assign/v0 v0112EDB8_0, 0, 8;
    %jmp T_3.8;
T_3.6 ;
    %ix/load 0, 3, 0;
    %assign/v0 v0112EDB8_0, 0, 0;
    %jmp T_3.8;
T_3.8 ;
    %jmp T_3;
    .thread T_3;
    .scope S_011219B0;
T_4 ;
    %wait E_012EA758;
    %set/v v012EBF88_0, 0, 1;
    %set/v v01133A60_0, 0, 1;
    %set/v v012EBF30_0, 0, 1;
    %set/v v012EB8F8_0, 0, 1;
    %set/v v012EB068_0, 0, 1;
    %set/v v01136898_0, 0, 1;
    %set/v v0112E940_0, 0, 1;
    %set/v v0113B578_0, 0, 1;
    %set/v v011368F0_0, 0, 1;
    %set/v v01133AB8_0, 0, 1;
    %set/v v012EBE80_0, 0, 1;
    %load/v 8, v0112EDB8_0, 3;
    %cmpi/u 8, 0, 3;
    %jmp/1 T_4.0, 6;
    %cmpi/u 8, 1, 3;
    %jmp/1 T_4.1, 6;
    %cmpi/u 8, 3, 3;
    %jmp/1 T_4.2, 6;
    %cmpi/u 8, 4, 3;
    %jmp/1 T_4.3, 6;
    %cmpi/u 8, 5, 3;
    %jmp/1 T_4.4, 6;
    %cmpi/u 8, 6, 3;
    %jmp/1 T_4.5, 6;
    %jmp T_4.6;
T_4.0 ;
    %set/v v012EB8F8_0, 1, 1;
    %set/v v012EB068_0, 1, 1;
    %set/v v01136898_0, 1, 1;
    %jmp T_4.6;
T_4.1 ;
    %set/v v012EBF88_0, 1, 1;
    %set/v v01133A60_0, 1, 1;
    %set/v v01133AB8_0, 1, 1;
    %jmp T_4.6;
T_4.2 ;
    %set/v v012EBF30_0, 1, 1;
    %set/v v0113B578_0, 1, 1;
    %jmp T_4.6;
T_4.3 ;
    %set/v v012EBF30_0, 1, 1;
    %set/v v0113B578_0, 0, 1;
    %jmp T_4.6;
T_4.4 ;
    %set/v v0112E940_0, 1, 1;
    %set/v v011368F0_0, 1, 1;
    %jmp T_4.6;
T_4.5 ;
    %set/v v012EBE80_0, 1, 1;
    %jmp T_4.6;
T_4.6 ;
    %jmp T_4;
    .thread T_4, $push;
    .scope S_01122918;
T_5 ;
    %set/v v0112F0F8_0, 0, 1;
    %end;
    .thread T_5;
    .scope S_01122918;
T_6 ;
    %delay 5000, 0;
    %load/v 8, v0112F0F8_0, 1;
    %inv 8, 1;
    %set/v v0112F0F8_0, 8, 1;
    %jmp T_6;
    .thread T_6;
    .scope S_01122918;
T_7 ;
    %vpi_call 2 27 "$dumpfile", "booth.vcd";
    %vpi_call 2 28 "$dumpvars", 1'sb0, S_01122918;
    %movi 8, 3, 16;
    %set/v v0112F150_0, 8, 16;
    %movi 8, 2, 16;
    %set/v v0112F4C0_0, 8, 16;
    %movi 8, 1, 32;
    %set/v v0112F830_0, 8, 32;
    %fork TD_booth_tb.run_test, S_01123550;
    %join;
    %movi 8, 65532, 16;
    %set/v v0112F150_0, 8, 16;
    %movi 24, 5, 16;
    %set/v v0112F4C0_0, 24, 16;
    %movi 24, 2, 32;
    %set/v v0112F830_0, 24, 32;
    %fork TD_booth_tb.run_test, S_01123550;
    %join;
    %movi 8, 7, 16;
    %set/v v0112F150_0, 8, 16;
    %movi 8, 65533, 16;
    %set/v v0112F4C0_0, 8, 16;
    %movi 24, 3, 32;
    %set/v v0112F830_0, 24, 32;
    %fork TD_booth_tb.run_test, S_01123550;
    %join;
    %movi 8, 65530, 16;
    %set/v v0112F150_0, 8, 16;
    %movi 24, 65534, 16;
    %set/v v0112F4C0_0, 24, 16;
    %movi 40, 4, 32;
    %set/v v0112F830_0, 40, 32;
    %fork TD_booth_tb.run_test, S_01123550;
    %join;
    %movi 8, 8, 16;
    %set/v v0112F150_0, 8, 16;
    %set/v v0112F4C0_0, 0, 16;
    %movi 8, 5, 32;
    %set/v v0112F830_0, 8, 32;
    %fork TD_booth_tb.run_test, S_01123550;
    %join;
    %vpi_call 2 34 "$finish";
    %end;
    .thread T_7;
# The file index is used to find the file name in the following table.
:file_names 5;
    "N/A";
    "<interactive>";
    "booth_tb.v";
    "booth_datapath.v";
    "booth_controller.v";
